{% extends 'frontend/layout.html.twig' %}

{% block title %}Connexion | Alumni Creator{% endblock %}

{% block content %}
    <div class="container breadcrumb">
        <p><a href="{{ path('homepage') }}">Accueil</a> > <a class="breadcrumb--current" href="{{ path('app_login') }}">Connexion</a></p>
    </div>

    <div class="container">
        <div class="row justify-content-center">
            {% for message in app.flashes('success') %}
                <div class="alert alert-success mb-3 text-center">
                    {{ message }}
                </div>
            {% endfor %}
            {% for message in app.flashes('error') %}
                <div class="alert alert-danger mb-3 justify-content-center">
                    {{ message }}
                </div>
            {% endfor %}

            <!-- <div data-register-target="promotion"></div> -->

            <div class="col-xl-6 mt-4 mb-5">
                <div class="card-section">
                    <form method="post">
                        {% if error %}
                            <div class="alert alert-danger mb-3 d-flex justify-content-center text-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
                        {% endif %}
                        {% if app.user %}
                            <div class="mb-3">
                                Vous êtes connecté en tant que {{ app.user.userIdentifier }}, <a href="{{ path('app_logout') }}"><br />Déconnexion</a>
                            </div>
                        {% endif %}
                        <div class="mb-3">
                            <label class="form-label">Email</label>
                            <input class="form-control form-control-lg" type="email" name="email" placeholder="Entrez votre email" value="{{ last_username }}" />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Mot de passe</label>
                            <input class="form-control form-control-lg" type="password" name="password" placeholder="Entrez votre mot de passe" />
                            <input type="hidden" name="_csrf_token"
                                   value="{{ csrf_token('authenticate') }}"
                            >
                            <small>
                                <a href="{{ path('app_forgot_password_request') }}" class="custom-link">Mot de passe oublié ?</a>
                            </small>
                        </div>
                        <div class="text-center mt-3">
                            <button type="submit" class="btn btn-rounded btn-primary-reverse"><p>Connexion</p> <i class="bi bi-chevron-right"></i></button>
                        </div>
                    </form>
                    <hr>
                    <h4 class="text-center mb-3">Authentification sociale</h4>
                    <div class="d-flex justify-content-around align-items-center mb-4">
                        <a href="{{ path('google_connect') }}">
                            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" class="bi bi-google" viewBox="0 0 16 16" style="color: {{ visual_configurations.getVisualConfigurations[0] }}">
                                <path d="M15.545 6.558a9.42 9.42 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.689 7.689 0 0 1 5.352 2.082l-2.284 2.284A4.347 4.347 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.792 4.792 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.702 3.702 0 0 0 1.599-2.431H8v-3.08h7.545z"/>
                            </svg>
                        </a>
                        <a href="{{ path('linkedin_connect') }}">
                            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" class="bi bi-linkedin" viewBox="0 0 16 16" style="color: {{ visual_configurations.getVisualConfigurations[0] }}">
                                <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/>
                            </svg>
                        </a>
                        <a href="{{ path('microsoft_connect') }}">
                            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" class="bi bi-microsoft" viewBox="0 0 16 16" style="color: {{ visual_configurations.getVisualConfigurations[0] }}">
                                <path d="M7.462 0H0v7.19h7.462V0zM16 0H8.538v7.19H16V0zM7.462 8.211H0V16h7.462V8.211zm8.538 0H8.538V16H16V8.211z"/>
                            </svg>
                        </a>
                    </div>
                    <p class="text-center mb-0">Pas encore de compte ? <a href="{{ path('register_index') }}" class="custom-link">Inscription !</a></p>
                </div>

            </div>
        </div>
    </div>
{% endblock %}
